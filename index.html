<style>
    /* Agrego estilo para la nueva variante gourmet */
    .gourmet-info { background: #fdf2f2; border: 1px solid #f5c2c7; color: #842029; padding: 12px; border-radius: 12px; margin-top: 10px; font-size: 0.85rem; line-height: 1.4; }
    .gourmet-info b { color: #b02a37; }
</style>

<div id="info-tr" class="info-transferencia">
    <b>BCI Cta Corriente: 30763118</b><br>Alex Berrios | 15.841.237-3<br>
    <button class="btn-copy" onclick="copyData()">ğŸ“‹ COPIAR DATOS</button>
    <div class="gourmet-info">
        ğŸ‘¨â€ğŸ³ <b>Trato hecho:</b> En cuanto recibamos tu comprobante, el Chef activarÃ¡ tu pedido. En El Gourmet Patagon cocinamos al momento para garantizar la frescura que te mereces.
    </div>
</div>

<script>
    // URL DE TU IMPLEMENTACIÃ“N DE GOOGLE APPS SCRIPT
    const SHEET_URL = "PEGA_AQUI_TU_URL_DE_APPS_SCRIPT";

    async function enviarAGoogleSheets(datos) {
        if(SHEET_URL === "PEGA_AQUI_TU_URL_DE_APPS_SCRIPT") return;
        try {
            await fetch(SHEET_URL, {
                method: 'POST',
                mode: 'no-cors',
                body: JSON.stringify(datos)
            });
        } catch (e) { console.error("Error Sheets:", e); }
    }

    function send(){
        if(!document.getElementById('acepta_horario').checked) return alert("Confirma horarios.");
        const n = document.getElementById('nombre').value; const p = document.getElementById('pago').value;
        if(!n || cart.length === 0 || !p) return alert("Faltan datos.");

        let detallePedido = cart.map(it => `${it.name} (${it.ent} ${it.pri})`).join(", ");
        
        // Datos para Google Sheets
        const datosComanda = {
            nombre: n,
            modalidad: document.getElementById('modalidad').value,
            pedido: detallePedido,
            total: totalGlobal,
            pago: p,
            notas: document.getElementById('observaciones').value
        };

        // Registro silencioso en Sheets
        enviarAGoogleSheets(datosComanda);

        // EnvÃ­o a WhatsApp
        let msg = `*PEDIDO - EL GOURMET PATAGON*%0AğŸ‘¤ *Cliente:* ${n}%0AğŸ“ *MODALIDAD:* ${document.getElementById('modalidad').value.toUpperCase()}%0A%0A`;
        cart.forEach((it) => { 
            let ex = (it.extras.bamboo?" + ğŸ‹ Bamboo":"") + (it.extras.jugo?" + ğŸ‹ Dressing":"") + (it.extras.extra_prot?" + ğŸ¥© Prot. Extra":"");
            msg += `ğŸ´ *${it.name}:* ${it.ent} ${it.pri} [${it.pts}]${ex}%0A`; 
        });
        if(p === 'Transferencia') msg += `%0AğŸ“¸ *ADJUNTA EL COMPROBANTE PARA INICIAR PREPARACIÃ“N.*`;
        msg += `%0A%0AğŸ’° *TOTAL: $${totalGlobal.toLocaleString('es-CL')}*%0AğŸ’³ *Pago:* ${p}`;
        window.open(`https://wa.me/56994004188?text=${msg}`);
    }
    // ... (resto de funciones addItem, render, etc. se mantienen igual)
</script>
