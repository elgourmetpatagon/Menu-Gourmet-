<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedidos El Gourmet Patagon ğŸŒ¿</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #fcf8f2; margin: 0; padding: 15px; color: #444; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 20px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border: 2px solid #e0d5c1; }
        h1 { text-align: center; color: #b03a2e; margin-bottom: 5px; }
        .subtitle { text-align: center; font-style: italic; color: #666; margin-bottom: 20px; font-size: 0.9em; }
        h3 { background-color: #fdebd0; padding: 10px; border-radius: 8px; color: #a04000; font-size: 1.1em; }
        label { display: block; margin: 10px 0 5px; font-weight: bold; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 10px; box-sizing: border-box; font-size: 16px; }
        .option-card { background: #fff; border: 1px solid #eee; padding: 10px; border-radius: 10px; margin-bottom: 10px; transition: 0.3s; }
        .option-card:active { background: #fdf2e9; }
        .checkbox-item { display: flex; align-items: center; margin-bottom: 8px; font-weight: normal; }
        .checkbox-item input { width: auto; margin-right: 12px; transform: scale(1.3); }
        .total-banner { background: #2c5e2e; color: white; text-align: center; padding: 15px; border-radius: 12px; margin: 20px 0; font-size: 1.4em; font-weight: bold; }
        .btn-whatsapp { width: 100%; background-color: #25D366; color: white; padding: 18px; border: none; border-radius: 50px; font-size: 1.1em; font-weight: bold; cursor: pointer; box-shadow: 0 4px 10px rgba(37, 211, 102, 0.3); }
        .hidden { display: none; }
        .price-tag { color: #b03a2e; font-weight: bold; float: right; }
    </style>
</head>
<body>

<div class="container">
    <h1>El Gourmet Patagon ğŸ³</h1>
    <p class="subtitle">~ Sabores de hogar para disfrutar donde estÃ©s ~</p>

    <h3>1. Datos de Entrega ğŸ“</h3>
    <input type="text" id="nombre" placeholder="Â¿A quÃ© nombre anotamos?">
    <textarea id="direccion" rows="2" placeholder="DirecciÃ³n de despacho"></textarea>
    
    <label>Tipo de Servicio:</label>
    <select id="entrega" onchange="actualizarTotal()">
        <option value="0">ğŸš— Retiro en Punto Secreto (Gratis)</option>
        <option value="2000">ğŸšš Delivery Centro - Victoria (+$2.000)</option>
        <option value="3500">ğŸš© Fuera de Zona (+$3.500)</option>
    </select>

    <h3>2. Â¡Arma tu Combo! ğŸ§©</h3>
    
    <div class="option-card">
        <label class="checkbox-item">
            <input type="radio" name="main_combo" value="ComboA" onchange="actualizarTotal()"> 
            ğŸ…°ï¸ MenÃº A: Principal + Focaccia <span class="price-tag">$6.500</span>
        </label>
    </div>

    <div class="option-card">
        <label class="checkbox-item">
            <input type="radio" name="main_combo" value="ComboB" onchange="actualizarTotal()"> 
            ğŸ…±ï¸ MenÃº B: Entrante + Principal + Focaccia <span class="price-tag">$7.500</span>
        </label>
    </div>

    <div id="seleccion_platos" class="hidden">
        <h3>3. Â¿QuÃ© vas a servirte? ğŸ²</h3>
        
        <div id="seccion_entrante" class="hidden">
            <label>Elige tu Entrante:</label>
            <select id="entrante_tipo">
                <option value="Sopita de Ave ğŸ¥£">Sopita de Ave ğŸ¥£</option>
                <option value="Mix de Temporada ğŸ¥—">Mix de Temporada (Pesto rÃºcula) ğŸ¥—</option>
            </select>
        </div>

        <label>Elige tu Principal:</label>
        <select id="principal_tipo" onchange="toggleEnsalada()">
            <option value="Pastel de Choclo ğŸŒ½">Pastel de Choclo ğŸŒ½</option>
            <option value="La Gran Ensalada ğŸ¥—">La Gran Ensalada ğŸ¥—</option>
        </select>

        <div id="seccion_proteinas" class="hidden" style="background: #f9f9f9; padding: 10px; border-radius: 10px;">
            <p><strong>TÃº decides 2 proteÃ­nas:</strong></p>
            <label class="checkbox-item"><input type="checkbox" class="prot" value="Hummus"> Hummus de Garbanzo ğŸ§†</label>
            <label class="checkbox-item"><input type="checkbox" class="prot" value="Suprema Ave"> Suprema Ave ğŸ—</label>
            <label class="checkbox-item"><input type="checkbox" class="prot" value="Quinoa"> Quinoa Tricolor ğŸŒ¾</label>
            <label class="checkbox-item"><input type="checkbox" class="prot" value="Huevo"> Huevo Sancochado ğŸ¥š</label>
        </div>
    </div>

    <h3>4. Â¿Algo mÃ¡s? âœ¨</h3>
    <div class="option-card">
        <label class="checkbox-item"><input type="checkbox" id="add_frio" value="3500" onchange="actualizarTotal()"> ğŸ§Š Pa'l FrÃ­o (ConsomÃ© + Focaccia) <span class="price-tag">+$3.500</span></label>
        <label class="checkbox-item"><input type="checkbox" id="add_dulce" value="3500" onchange="actualizarTotal()"> ğŸ§‡ Waffle Manjar/Frutilla <span class="price-tag">+$3.500</span></label>
        <label class="checkbox-item"><input type="checkbox" id="add_cubiertos" value="1000" onchange="actualizarTotal()"> ğŸ´ Agregar Cubiertos <span class="price-tag">+$1.000</span></label>
    </div>

    <label>Alergias o notas especiales ğŸš«:</label>
    <input type="text" id="notas" placeholder="Ej: Sin cebolla, alÃ©rgico a...">

    <div style="background: #fff3cd; padding: 10px; border-radius: 10px; margin-top: 15px;">
        <label class="checkbox-item" style="font-size: 0.85em;">
            <input type="checkbox" id="acepta_ruta"> He leÃ­do que el despacho entra en hoja de ruta (12:45 a 14:00).
        </label>
    </div>

    <div class="total-banner">Total: $<span id="total">0</span></div>

    <button class="btn-whatsapp" onclick="enviar()">ENVIAR A COCINA ğŸ‘¨â€ğŸ³</button>
</div>

<script>
    function actualizarTotal() {
        let total = 0;
        const combo = document.querySelector('input[name="main_combo"]:checked');
        
        if (combo) {
            document.getElementById('seleccion_platos').classList.remove('hidden');
            if (combo.value === 'ComboA') {
                total += 6500;
                document.getElementById('seccion_entrante').classList.add('hidden');
            } else {
                total += 7500;
                document.getElementById('seccion_entrante').classList.remove('hidden');
            }
        }

        if(document.getElementById('add_frio').checked) total += 3500;
        if(document.getElementById('add_dulce').checked) total += 3500;
        if(document.getElementById('add_cubiertos').checked) total += 1000;
        
        total += parseInt(document.getElementById('entrega').value);
        document.getElementById('total').innerText = total.toLocaleString('es-CL');
    }

    function toggleEnsalada() {
        const principal = document.getElementById('principal_tipo').value;
        const seccionProt = document.getElementById('seccion_proteinas');
        principal.includes("Ensalada") ? seccionProt.classList.remove('hidden') : seccionProt.classList.add('hidden');
    }

    function enviar() {
        const nombre = document.getElementById('nombre').value;
        const combo = document.querySelector('input[name="main_combo"]:checked');
        const acepta = document.getElementById('acepta_ruta').checked;

        if(!nombre || !combo || !acepta) {
            alert("Por favor: Nombre, elegir MenÃº y aceptar condiciÃ³n de entrega.");
            return;
        }

        const proteinas = Array.from(document.querySelectorAll('.prot:checked')).map(p => p.value).join(", ");
        
        let msg = `*NUEVO PEDIDO EL GOURMET PATAGON* ğŸŒ¿\n`;
        msg += `ğŸ‘¤ *Cliente:* ${nombre}\n`;
        msg += `ğŸ“ *Entrega:* ${document.getElementById('direccion').value}\n`;
        msg += `--------------------------\n`;
        msg += `ğŸ± *Combo:* ${combo.value}\n`;
        if(combo.value === 'ComboB') msg += `ğŸ¥£ *Entrante:* ${document.getElementById('entrante_tipo').value}\n`;
        msg += `ğŸ½ï¸ *Principal:* ${document.getElementById('principal_tipo').value}\n`;
        if(proteinas) msg += `ğŸ’ª *ProteÃ­nas:* ${proteinas}\n`;
        
        if(document.getElementById('add_frio').checked) msg += `ğŸ§Š Incluye Pa'l FrÃ­o\n`;
        if(document.getElementById('add_dulce').checked) msg += `ğŸ§‡ Incluye Waffle\n`;
        if(document.getElementById('add_cubiertos').checked) msg += `ğŸ´ *Con Cubiertos*\n`;
        
        if(document.getElementById('notas').value) msg += `ğŸš« *Notas:* ${document.getElementById('notas').value}\n`;
        
        msg += `--------------------------\n`;
        msg += `ğŸšš *Ruta:* Aceptada\n`;
        msg += `ğŸ’° *TOTAL:* $${document.getElementById('total').innerText}`;

        // Reemplaza con tu nÃºmero:
        const fono = "56994004188"; 
        window.open(`https://wa.me/${fono}?text=${encodeURIComponent(msg)}`, '_blank');
    }
</script>

</body>
</html>
